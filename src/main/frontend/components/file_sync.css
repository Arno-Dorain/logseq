.cp__file-sync {
  &-indicator {
    --ls-color-file-sync-error: #ff0000;
    --ls-color-file-sync-pending: #ffbb4d;
    --ls-color-file-sync-idle: #04b404;

    a.cloud {
      position: relative;
      opacity: 1 !important;
      cursor: pointer;

      &:active {
        opacity: .5 !important;
      }

      .ti {
        opacity: .5;
      }

      &:hover .ti {
        opacity: .9;
      }

      &.on {
        &:after {
          content: " ";
          position: absolute;
          bottom: 10px;
          right: 8px;
          width: 7px;
          height: 7px;
          background-color: var(--ls-color-file-sync-pending);
          border-radius: 100%;
          opacity: 1;
        }

        &.syncing {
          &:after {
            background-color: var(--ls-color-file-sync-pending);
          }
        }

        &.queuing {
          &:after {
            background-color: var(--ls-color-file-sync-pending);
          }
        }

        &.idle {
          &:after {
            background-color: var(--ls-color-file-sync-idle);
          }
        }
      }
    }

    .debug-status {
      position: absolute;
      top: 0;
      right: 0;
      background: #bd0000;
      color: white;
      font-size: 14px;
      padding: 5px 8px;
    }

    .dropdown-wrapper {
      width: 90vw;
      max-height: 75vh;
      overflow: hidden;
      overflow-y: auto;
      position: fixed;
      right: 5vw;

      @screen md {
        width: 400px;
        position: absolute;
        right: -10px;
      }

      > .py-1 {
        padding: 0;
      }

      .menu-link {
        white-space: normal;
        word-break: break-all;
      }
    }
  }

  &-page-histories {
    @apply flex;

    width: unset;
    height: 85vh;
    margin: 20px -32px -32px -32px;
    overflow: hidden;
    border-top: 1px solid var(--ls-tertiary-border-color);

    @screen md {
      width: 90vw;
    }

    > h1 {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      width: 90%;
    }

    &-left {
      @apply flex h-full;

      visibility: hidden;
      flex-basis: 100%;

      .version-list {
        @apply list-none m-0 h-full;

        overflow-y: auto;
        flex-basis: 30%;
        border-right: 1px solid var(--ls-tertiary-border-color);

        &-item {
          .item-link {
            @apply py-2 px-3;

            border-bottom: 1px solid var(--ls-tertiary-border-color);
            transition: background-color .3s;

            &:hover, &.active {
              background-color: var(--ls-tertiary-background-color);
            }

            &:active {
              opacity: .8;
            }

            > strong {
              display: block;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
            }
          }
        }
      }

      > article {
        @apply flex-1 overflow-hidden h-full;

        /* fix inner content overflow */
        width: 0;

        .raw-content-editor, .extensions__code {
          height: 99.9%;
        }

        .extensions__code-lang {
          display: none;
        }

        .code-editor {
          margin-top: 0;
        }
      }

      @screen md {
        flex-basis: 60%;
      }
    }

    &-right {
      @apply flex-1 h-full hidden pt-4;

      visibility: hidden;
      border-left: 1px solid var(--ls-secondary-border-color);
      padding-left: 30px;
      padding-bottom: 50px;
      overflow-y: auto;

      @screen md {
        display: block;
      }
    }

    &.is-list-ready {
      .cp__file-sync-page-histories {
        &-left, &-right {
          visibility: visible;
        }
      }

      .ready-loading {
        display: none;
      }
    }
  }

  &-welcome-logseq-sync, &-unavailable-logseq-sync {
    > .head-bg {
      @apply flex m-auto mb-10;

      background-image: url("../img/file-sync-welcome-backer-dark.png");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      width: 500px;
      padding-top: 86px;
      max-width: 90vw;

      > strong {
        @apply block bg-gray-200 rounded text-gray-700 text-[10px] font-semibold px-2 py-0.5 opacity-40
        m-auto translate-y-8;
      }
    }

    > h1, > h2 {
      @apply flex justify-center text-center;
    }

    > h2 {
      @apply text-sm opacity-80 pt-3;
    }
  }

  &-unavailable-logseq-sync {
    > .head-bg {
      background-image: url("../img/file-sync-unavailale-nonbacker-dark.png");
    }
  }

  &-related-normal-modal {
    .icon-wrap {
      @apply rounded flex justify-center items-center;

      width: 48px;
      height: 48px;
      background-color: var(--ls-quaternary-background-color);

      > .ti {
        font-size: 34px;
        opacity: .9;
      }
    }

    > .folder-tip {
      @apply mt-5 py-4 rounded-md;

      background-color: var(--ls-quaternary-background-color);

      .ti {
        font-weight: 400;
        font-size: 20px;
      }

      h3, h3 > span {
        @apply dark:text-white flex items-center space-x-2 font-semibold opacity-95;
      }

      h4 {
        @apply text-sm opacity-50 pt-1;
      }
    }

    > .input-hints {
      background-color: var(--ls-primary-background-color);
    }

    .init-remote-pw-tips {
      > div {
        background-color: var(--ls-tertiary-background-color);
        padding: 6px 10px;
        font-size: 14px;
        border-radius: 4px;

        p > span {
          opacity: .6;
        }
      }
    }
  }
}

div[label=modal-page-histories] {
  .panel-content {
    overflow: hidden;
  }
}

html[data-theme='light'] {
  .cp__file-sync {
    &-welcome-logseq-sync {
      > .head-bg {
        background-image: url("../img/file-sync-welcome-backer-light.png");
      }
    }

    &-unavailable-logseq-sync {
      > .head-bg {
        background-image: url("../img/file-sync-unavailale-nonbacker-light.png");
      }
    }

    &-related-normal-modal {
      .icon-wrap {
        background-color: #908E8B;

        .ti {
          color: whitesmoke;
        }
      }

      > .folder-tip {
        background-color: var(--ls-tertiary-background-color);
      }

      > .input-hints {
        background-color: #e1e1e1;
      }
    }
  }
}